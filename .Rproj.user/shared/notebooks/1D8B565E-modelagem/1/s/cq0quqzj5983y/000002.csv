"0","############################"
"0","### preparacao dos dados ###"
"0","############################"
"0","# pacotes necessários"
"0","library(MASS)"
"2","
Attaching package: ‘MASS’

"
"2","The following object is masked from ‘package:dplyr’:

    select

"
"0","library(tidyverse)"
"0","theme_set(theme_bw())"
"0","library(ggfortify)"
"0","library(reshape2)"
"0","library(gridExtra)"
"0","library(pscl)"
"2","Classes and Methods for R developed in the
Political Science Computational Laboratory
Department of Political Science
Stanford University
Simon Jackman
hurdle and zeroinfl functions by Achim Zeileis
"
"0","library(lmtest)"
"2","Loading required package: zoo
"
"2","
Attaching package: ‘zoo’

"
"2","The following objects are masked from ‘package:base’:

    as.Date, as.Date.numeric

"
"0","library(countreg)"
"2","Registered S3 methods overwritten by 'countreg':
  method                 from
  print.zeroinfl         pscl
  print.summary.zeroinfl pscl
  summary.zeroinfl       pscl
  coef.zeroinfl          pscl
  vcov.zeroinfl          pscl
  logLik.zeroinfl        pscl
  predict.zeroinfl       pscl
  residuals.zeroinfl     pscl
  fitted.zeroinfl        pscl
  terms.zeroinfl         pscl
  model.matrix.zeroinfl  pscl
  extractAIC.zeroinfl    pscl
  print.hurdle           pscl
  print.summary.hurdle   pscl
  summary.hurdle         pscl
  coef.hurdle            pscl
  vcov.hurdle            pscl
  logLik.hurdle          pscl
  predict.hurdle         pscl
  residuals.hurdle       pscl
  fitted.hurdle          pscl
  terms.hurdle           pscl
  model.matrix.hurdle    pscl
  extractAIC.hurdle      pscl
"
"2","
Attaching package: ‘countreg’

"
"2","The following objects are masked from ‘package:pscl’:

    hurdle, hurdle.control, hurdletest, zeroinfl,
    zeroinfl.control

"
"0","library(ggfortify)"
"0","library(Rtsne)"
"0","library(corrplot)"
"2","corrplot 0.84 loaded
"
"0","tsne.ggplot <- function(tsne_out){"
"0","  tsne.ggplot <- data.frame(x = tsne_out$Y[,1], "
"0","                            y = tsne_out$Y[,2])"
"0","  return(tsne.ggplot)"
"0","}"
"0","library(knitr)"
"0","library(kableExtra)"
"2","
Attaching package: ‘kableExtra’

"
"2","The following object is masked from ‘package:dplyr’:

    group_rows

"
"0","source(""autoplot.countreg.R"")"
"0","source(""modelos_ajustados.R"")"
"0","source(""modelos_ajustados_a1.R"")"
"0","source(""logit.R"")"
"0","source(""inv.logit.R"")"
"0","source(""interpretacao.R"")"
"0","# leitura dos dados"
"0","dados <- read.csv(file=""dados_2019.csv"", sep="";"")"
"0","dim(dados)"
"1","[1]"
"1"," 10494"
"1","    70"
"1","
"
"0","str(dados)"
"1","'data.frame':	"
"1","10494"
"1"," obs. of  "
"1","70"
"1"," variable"
"1","s"
"1",":"
"1","
"
"1"," "
"1","$ "
"1","nome                                            "
"1",":"
"1"," Factor w/ 8493 levels ""AARAO LYRA"",""ABDO FARRET NETO"",..: "
"1","1 1 2 3 4 5 6 7 8 9"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","idade                                           "
"1",":"
"1"," int  "
"1","50 50 62 76 77 69 45 39 89 38"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","genero                                          "
"1",":"
"1"," Factor w/ 3 levels ""Feminino"",""Masculino"",..: "
"1","2 2 2 1 1 2 2 2 2 1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","siape                                           "
"1",":"
"1"," Factor w/ 10492 levels ""0"",""1.000.286"",..: "
"1","1065 5496 3494 8220 8743 8335 613 3417 7782 3506"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","situacao                                        "
"1",":"
"1"," Factor w/ 14 levels ""Aposentado"",""Ativo Permanente"",..: "
"1","7 7 2 1 1 2 2 2 1 7"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","denominacao                                     "
"1",":"
"1"," Factor w/ 16 levels ""ASSESSOR TECNICO"",..: "
"1","4 4 12 12 12 12 3 12 12 4"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","departamento                                    "
"1",":"
"1"," Factor w/ 115 levels ""ADMINISTRAÇÃO DO CCET"",..: "
"1","42 42 77 86 86 53 60 9 86 59"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","centro                                          "
"1",":"
"1"," Factor w/ 10 levels ""CENTRO DE  ENSINO SUPERIOR DO SERIDÓ"",..: "
"1","6 6 3 10 10 8 5 1 10 3"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","programas                                       "
"1",":"
"1"," Factor w/ 377 levels """",""PROGRAMA DE PÓS GRADUAÇÃO EM ENSINO DE CIÊNCIAS NATURAIS E MATEMÁTICA"",..: "
"1","1 1 1 1 1 1 1 263 1 1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_a1_total                              "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 1 0 1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_a2_total                              "
"1",":"
"1"," int  "
"1","0 0 1 0 0 0 2 1 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b1_total                              "
"1",":"
"1"," int  "
"1","0 0 1 0 0 0 4 2 0 1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b2_total                              "
"1",":"
"1"," int  "
"1","0 0 3 0 0 0 0 2 0 1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b3_total                              "
"1",":"
"1"," int  "
"1","0 0 6 0 0 0 1 1 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b4_total                              "
"1",":"
"1"," int  "
"1","0 0 2 0 0 0 1 2 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b5_total                              "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 8 2 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_c_total                               "
"1",":"
"1"," int  "
"1","1 1 0 0 0 0 0 0 0 1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_sem_qualis_total                      "
"1",":"
"1"," int  "
"1","11 11 7 0 4 0 5 1 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_a1_2014_2017                          "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 1 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_a2_2014_2017                          "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 1 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b1_2014_2017                          "
"1",":"
"1"," int  "
"1","0 0 1 0 0 0 1 2 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b2_2014_2017                          "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b3_2014_2017                          "
"1",":"
"1"," int  "
"1","0 0 1 0 0 0 0 1 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b4_2014_2017                          "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 1 2 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b5_2014_2017                          "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 3 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_c_2014_2017                           "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_sem_qualis_2014_2017                  "
"1",":"
"1"," int  "
"1","1 1 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_a1_sem_doutorado                      "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_a2_sem_doutorado                      "
"1",":"
"1"," int  "
"1","0 0 1 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b1_sem_doutorado                      "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b2_sem_doutorado                      "
"1",":"
"1"," int  "
"1","0 0 3 0 0 0 0 2 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b3_sem_doutorado                      "
"1",":"
"1"," int  "
"1","0 0 5 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b4_sem_doutorado                      "
"1",":"
"1"," int  "
"1","0 0 2 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_b5_sem_doutorado                      "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 2 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_artigos_c_sem_doutorado                       "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_livros_publicados_total                       "
"1",":"
"1"," int  "
"1","3 3 1 0 0 0 14 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_capitulos_livros_publicados_total             "
"1",":"
"1"," int  "
"1","0 0 18 0 0 0 11 0 0 1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_livros_publicados_2014_2017                   "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 5 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_capitulos_livros_publicados_2014_2017         "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 2 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","ano_ingresso_ufrn                               "
"1",":"
"1"," num  "
"1","2 2 2.01 1.97 1.98"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","ano_obtencao_doutorado                          "
"1",":"
"1"," Factor w/ 55 levels """",""1964"",""1965"",..: "
"1","37 37 48 1 31 1 35 47 1 47"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","area_doutorado                                  "
"1",":"
"1"," Factor w/ 1169 levels """",""Adequação Ambiental"",..: "
"1","148 148 51 1 1 1 1 162 1 1"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_graduacao_2017_2                     "
"1",":"
"1"," int  "
"1","0 0 0 0 0 10 0 13 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_graduacao_2017_1                     "
"1",":"
"1"," int  "
"1","0 0 0 0 0 10 0 8 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_graduacao_2016_2                     "
"1",":"
"1"," int  "
"1","0 0 6 0 0 8 0 12 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_graduacao_2016_1                     "
"1",":"
"1"," int  "
"1","0 0 6 0 0 8 0 4 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_graduacao_2015_2                     "
"1",":"
"1"," int  "
"1","0 0 5 0 0 8 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_graduacao_2015_1                     "
"1",":"
"1"," int  "
"1","0 0 5 0 0 8 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_graduacao_2014_2                     "
"1",":"
"1"," int  "
"1","0 0 6 0 0 8 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_graduacao_2014_1                     "
"1",":"
"1"," int  "
"1","0 0 5 0 0 8 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_posgraduacao_2017_2                  "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 2 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_posgraduacao_2017_1                  "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_posgraduacao_2016_2                  "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_posgraduacao_2016_1                  "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_posgraduacao_2015_2                  "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_posgraduacao_2015_1                  "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_posgraduacao_2014_2                  "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_aula_posgraduacao_2014_1                  "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","orientacoes_doutorado_concluidas_total          "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","orientacoes_mestrado_concluidas_total           "
"1",":"
"1"," int  "
"1","4 4 0 0 0 0 10 7 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","orientacoes_ic_concluidas_total                 "
"1",":"
"1"," int  "
"1","3 3 0 0 0 0 0 4 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","numero_tcc_total                                "
"1",":"
"1"," int  "
"1","3 3 0 0 5 0 8 18 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","orientacoes_doutorado_concluidas_total_2017_2014"
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","orientacoes_mestrado_concluidas_total_2017_2014 "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 6 7 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","orientacoes_ic_concluidas_total_2017_2014       "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 2 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_tcc_2017_2014                                 "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 14 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_projetos_financiados                          "
"1",":"
"1"," int  "
"1","0 0 0 0 0 0 0 1 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","horas_dedicadas_pesquisa                        "
"1",":"
"1"," num  "
"1","0 0 0 0 0 0 40 0 0 0"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_eventos_participacao                          "
"1",":"
"1"," int  "
"1","17 17 90 0 163 0 20 27 0 26"
"1"," ..."
"1","
"
"1"," "
"1","$ "
"1","n_eventos_participacao_2014_2017                "
"1",":"
"1"," int  "
"1","0 0 4 0 0 0 0 0 0 0"
"1"," ..."
"1","
"
"0","# transforma a variavel `ano_ingresso_ufrn` em numero inteiro"
"0","dados$ano_ingresso_ufrn <- 1000*dados$ano_ingresso_ufrn"
"0","summary(dados$ano_ingresso_ufrn)"
"1","   Min. "
"1","1st Qu. "
"1"," Median "
"1","   Mean "
"1","3rd Qu. "
"1","   Max. "
"1","   NA's "
"1","
"
"1","   1954 "
"1","   1994 "
"1","   2006 "
"1","   2001 "
"1","   2013 "
"1","   2019 "
"1","      1 "
"1","
"
"0","# transforma a variavel `ano_obtencao_doutorado` em numero inteiro"
"0","dados$ano_obtencao_doutorado <- as.character(dados$ano_obtencao_doutorado)"
"0","dados$ano_obtencao_doutorado[dados$ano_obtencao_doutorado==""""] <- NA"
"0","dados$ano_obtencao_doutorado <- as.numeric(dados$ano_obtencao_doutorado)"
"0","# manter soh quem ingressou ateh 2017"
"0","dados <- dados %>%"
"0","  filter(ano_ingresso_ufrn <= 2017)"
"0","# cria a variavel `horas_ensino_ultimos_2_anos`"
"0","dados$horas_ensino_ultimos_2_anos <- dados$horas_aula_graduacao_2017_2 +"
"0","  dados$horas_aula_graduacao_2017_1 +"
"0","  dados$horas_aula_graduacao_2016_2 +"
"0","  dados$horas_aula_graduacao_2016_1 +"
"0","  dados$horas_aula_posgraduacao_2017_2 +"
"0","  dados$horas_aula_posgraduacao_2017_1 +"
"0","  dados$horas_aula_posgraduacao_2016_2 +"
"0","  dados$horas_aula_posgraduacao_2016_1"
"0","# cria variavel com as horas de ensino na graduacao e na pos-graduacao"
"0","dados$horas_ensino_graduacao_2014_2017 <- "
"0","  (dados$horas_aula_graduacao_2017_2 +"
"0","     dados$horas_aula_graduacao_2017_1 +"
"0","     dados$horas_aula_graduacao_2016_2 +"
"0","     dados$horas_aula_graduacao_2016_1 +"
"0","     dados$horas_aula_graduacao_2015_2 +"
"0","     dados$horas_aula_graduacao_2015_1 +"
"0","     dados$horas_aula_graduacao_2014_2 +"
"0","     dados$horas_aula_graduacao_2014_1)/4"
"0","dados$horas_ensino_posgraduacao_2014_2017 <- "
"0","  (dados$horas_aula_posgraduacao_2017_2 +"
"0","     dados$horas_aula_posgraduacao_2017_1 +"
"0","     dados$horas_aula_posgraduacao_2016_2 +"
"0","     dados$horas_aula_posgraduacao_2016_1 +"
"0","     dados$horas_aula_posgraduacao_2015_2 +"
"0","     dados$horas_aula_posgraduacao_2015_1 +"
"0","     dados$horas_aula_posgraduacao_2014_2 +"
"0","     dados$horas_aula_posgraduacao_2014_1)/4"
"0","# manter apenas os ativos"
"0","dados <- dados %>%"
"0","  filter(situacao==""Ativo Permanente"") %>%"
"0","  filter(horas_ensino_ultimos_2_anos>0)"
"0","# checar os anos"
"0","summary(dados$ano_ingresso_ufrn)"
"1","   Min. "
"1","1st Qu. "
"1"," Median "
"1","   Mean "
"1","3rd Qu. "
"1","   Max. "
"1","
"
"1","   1971 "
"1","   2001 "
"1","   2009 "
"1","   2005 "
"1","   2013 "
"1","   2017 "
"1","
"
"0","summary(dados$ano_obtencao_doutorado)"
"1","   Min. "
"1","1st Qu. "
"1"," Median "
"1","   Mean "
"1","3rd Qu. "
"1","   Max. "
"1","   NA's "
"1","
"
"1","   1976 "
"1","   2003 "
"1","   2008 "
"1","   2007 "
"1","   2013 "
"1","   2104 "
"1","    380 "
"1","
"
"0","dados$ano_obtencao_doutorado[which(dados$ano_obtencao_doutorado > 2018)]"
"1","[1]"
"1"," 2104"
"1","
"
"0","dados[which(dados$ano_obtencao_doutorado > 2018), ]"
